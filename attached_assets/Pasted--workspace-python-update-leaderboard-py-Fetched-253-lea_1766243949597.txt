~/workspace$ python update_leaderboard.py
‚úÖ Fetched 253 leaderboard rows from OpenLM.ai
   ‚è≠Ô∏è  Skipping free model 'nvidia/nemotron-3-nano-30b-a3b:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'mistralai/devstral-2512:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'arcee-ai/trinity-mini:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'tngtech/tng-r1t-chimera:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'nvidia/nemotron-nano-12b-v2-vl:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'alibaba/tongyi-deepresearch-30b-a3b:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'nvidia/nemotron-nano-9b-v2:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'openai/gpt-oss-120b:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'openai/gpt-oss-20b:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'z-ai/glm-4.5-air:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'qwen/qwen3-coder:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'moonshotai/kimi-k2:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'tngtech/deepseek-r1t2-chimera:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'deepseek/deepseek-r1-0528:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'google/gemma-3n-e4b-it:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'tngtech/deepseek-r1t-chimera:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'mistralai/mistral-small-3.1-24b-instruct:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'google/gemma-3-4b-it:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'google/gemma-3-12b-it:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'google/gemma-3-27b-it:free' because paid version exists
   üîç DEBUG gemma: google/gemma-3-27b-it
      Raw pricing: prompt=0.00000004, completion=0.00000015
      Converted: prompt_cost=4e-08, completion_cost=1.5e-07
   ‚è≠Ô∏è  Skipping free model 'meta-llama/llama-3.3-70b-instruct:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'meta-llama/llama-3.2-3b-instruct:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'qwen/qwen-2.5-vl-7b-instruct:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'nousresearch/hermes-3-llama-3.1-405b:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'meta-llama/llama-3.1-405b-instruct:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'mistralai/mistral-7b-instruct:free' because paid version exists
‚úÖ Fetched pricing for 902 model entries from OpenRouter
   OpenRouter models containing 'claude': ['anthropic/claude-opus-4.5', 'claude-opus-4.5', 'anthropic/claude-4.5-opus-20251124']...
   OpenRouter models containing 'glm': ['z-ai/glm-4.6v', 'glm-4.6v', 'z-ai/glm-4.6-20251208']...
   OpenRouter models containing 'qwen': ['qwen/qwen3-vl-32b-instruct', 'qwen3-vl-32b-instruct', 'qwen/qwen3-vl-8b-thinking']...
   OpenRouter models containing 'gpt-5': ['openai/gpt-5.2-chat', 'gpt-5.2-chat', 'openai/gpt-5.2-chat-20251211']...
   üîç GPT-5 found in OpenRouter with pricing: input=$1.25e-06, output=$1e-05
   ‚è≠Ô∏è  Skipping free model 'nvidia/nemotron-3-nano-30b-a3b:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'mistralai/devstral-2512:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'arcee-ai/trinity-mini:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'tngtech/tng-r1t-chimera:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'nvidia/nemotron-nano-12b-v2-vl:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'alibaba/tongyi-deepresearch-30b-a3b:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'nvidia/nemotron-nano-9b-v2:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'openai/gpt-oss-120b:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'openai/gpt-oss-20b:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'z-ai/glm-4.5-air:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'qwen/qwen3-coder:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'moonshotai/kimi-k2:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'tngtech/deepseek-r1t2-chimera:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'deepseek/deepseek-r1-0528:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'google/gemma-3n-e4b-it:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'tngtech/deepseek-r1t-chimera:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'mistralai/mistral-small-3.1-24b-instruct:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'google/gemma-3-4b-it:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'google/gemma-3-12b-it:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'google/gemma-3-27b-it:free' because paid version exists
   üîç DEBUG gemma: google/gemma-3-27b-it
      Raw pricing: prompt=0.00000004, completion=0.00000015
      Converted: prompt_cost=4e-08, completion_cost=1.5e-07
   ‚è≠Ô∏è  Skipping free model 'meta-llama/llama-3.3-70b-instruct:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'meta-llama/llama-3.2-3b-instruct:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'qwen/qwen-2.5-vl-7b-instruct:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'nousresearch/hermes-3-llama-3.1-405b:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'meta-llama/llama-3.1-405b-instruct:free' because paid version exists
   ‚è≠Ô∏è  Skipping free model 'mistralai/mistral-7b-instruct:free' because paid version exists
‚úÖ Fetched pricing for 902 model entries from OpenRouter
   OpenRouter models containing 'claude': ['anthropic/claude-opus-4.5', 'claude-opus-4.5', 'anthropic/claude-4.5-opus-20251124']...
   OpenRouter models containing 'glm': ['z-ai/glm-4.6v', 'glm-4.6v', 'z-ai/glm-4.6-20251208']...
   OpenRouter models containing 'qwen': ['qwen/qwen3-vl-32b-instruct', 'qwen3-vl-32b-instruct', 'qwen/qwen3-vl-8b-thinking']...
   OpenRouter models containing 'gpt-5': ['openai/gpt-5.2-chat', 'gpt-5.2-chat', 'openai/gpt-5.2-chat-20251211']...
   üîç GPT-5 found in OpenRouter with pricing: input=$1.25e-06, output=$1e-05
üìä Created matching index with 5,727 variants for 3,058 models
   Matching index entries containing 'claude': ['anthropic.claude_3_5_haiku_20241022_v1:0', 'anthropic.claude35haiku20241022v1:0', 'anthropic.claude-3-5-haiku-20241022-v1:0', 'anthropic.claude-haiku-4-5-20251001-v1:0', 'anthropic.claudehaiku4520251001v1:0']
   Matching index entries containing 'qwen': ['qwen-3-32b', 'qwen332b', 'qwen-3', 'qwen_3_32b', 'qwencoder']
   Matching index entries containing 'glm': ['zai-glm', 'zai-glm4.6', 'zai-glm-4.6', 'zaiglm4.6', 'zaiglm-4.6']

üîç DEBUG: Matching 'glm-4.5'
   Generated 4 variants: ['glm_4.5', 'glm-4.5', 'glm4.5', 'glm']
   ‚úÖ MATCH found at variant #0: 'glm_4.5' -> 'glm-4.5'

üîç DEBUG: Matching 'claude opus 4.1'
   Generated 6 variants: ['claude-opus-4.1', 'claude opus 4.1', 'claude_opus_4.1', 'claude-4.1-opus', 'claude-opus', 'claudeopus4.1']
   ‚úÖ MATCH found at variant #0: 'claude-opus-4.1' -> 'claude-opus-4.1'

üîç DEBUG: Matching 'claude opus 4.1'
   Generated 6 variants: ['claude-opus-4.1', 'claude opus 4.1', 'claude_opus_4.1', 'claude-4.1-opus', 'claude-opus', 'claudeopus4.1']
   ‚úÖ MATCH found at variant #0: 'claude-opus-4.1' -> 'claude-opus-4.1'

üîç DEBUG: Matching 'qwen3-235b-a22b-instruct-2507'
   Generated 6 variants: ['qwen3_235b_a22b_instruct_2507', 'qwen3-instruct-2507', 'qwen3235ba22binstruct2507', 'qwen3-instruct', 'qwen3-235b-a22b-instruct', 'qwen3-235b-a22b-instruct-2507']
   ‚úÖ MATCH found at variant #0: 'qwen3_235b_a22b_instruct_2507' -> 'qwen3-235b-a22b-instruct-2507'

üîç DEBUG: Matching 'glm-4.5-air'
   Generated 5 variants: ['glm-4.5-air', 'glm4.5-air', 'glm_4.5_air', 'glm4.5air', 'glm-4.5air']
   ‚úÖ MATCH found at variant #0: 'glm-4.5-air' -> 'glm-4.5-air'

üîç CLAUDE DEBUG: Found 23 Claude models in leaderboard:
   Leaderboard: 'claude opus 4.5' -> matched: 'claude-opus-4.5'
      -> Found in pricing data: input=$nan, output=$nan
   Leaderboard: 'claude opus 4.5' -> matched: 'claude-opus-4.5'
      -> Found in pricing data: input=$nan, output=$nan
   Leaderboard: 'claude sonnet 4.5' -> matched: 'claude-sonnet-4.5'
      -> Found in pricing data: input=$nan, output=$nan
   Leaderboard: 'claude opus 4.1' -> matched: 'claude-opus-4.1'
      -> Found in pricing data: input=$1.5e-05, output=$7.5e-05
   Leaderboard: 'claude sonnet 4.5' -> matched: 'claude-sonnet-4.5'
      -> Found in pricing data: input=$nan, output=$nan
   Leaderboard: 'claude opus 4.1' -> matched: 'claude-opus-4.1'
      -> Found in pricing data: input=$1.5e-05, output=$7.5e-05
   Leaderboard: 'claude haiku 4.5' -> matched: 'claude-haiku-4.5'
      -> Found in pricing data: input=$nan, output=$nan
   Leaderboard: 'claude opus 4' -> matched: 'claude-opus-4'
      -> Found in pricing data: input=$1.5e-05, output=$7.5e-05
   Leaderboard: 'claude opus 4' -> matched: 'claude-opus-4'
      -> Found in pricing data: input=$1.5e-05, output=$7.5e-05
   Leaderboard: 'claude sonnet 4' -> matched: 'claude-sonnet-4'
      -> Found in pricing data: input=$nan, output=$nan
   Leaderboard: 'claude sonnet 4' -> matched: 'claude-sonnet-4'
      -> Found in pricing data: input=$nan, output=$nan
   Leaderboard: 'claude 3.7 sonnet' -> matched: 'claude-3.7-sonnet'
      -> Found in pricing data: input=$3e-06, output=$1.5e-05
   Leaderboard: 'claude 3.7 sonnet' -> matched: 'claude-3.7-sonnet'
      -> Found in pricing data: input=$3e-06, output=$1.5e-05
   Leaderboard: 'claude 3.5 sonnet' -> matched: 'claude-3.5-sonnet'
      -> Found in pricing data: input=$3e-06, output=$1.5e-05
   Leaderboard: 'claude 3.5 sonnet' -> matched: 'claude-3.5-sonnet'
      -> Found in pricing data: input=$3e-06, output=$1.5e-05
   Leaderboard: 'claude 3 opus' -> matched: 'claude-3-opus'
      -> Found in pricing data: input=$1.5e-05, output=$7.5e-05
   Leaderboard: 'claude 3.5 haiku' -> matched: 'claude-3.5-haiku'
      -> Found in pricing data: input=$8e-07, output=$4e-06
   Leaderboard: 'claude 3 sonnet' -> matched: 'claude-3-sonnet'
      -> Found in pricing data: input=$3e-06, output=$1.5e-05
   Leaderboard: 'claude 3 haiku' -> matched: 'claude-3-haiku-20240307'
      -> Found in pricing data: input=$2.5e-07, output=$1.25e-06
   Leaderboard: 'claude-1' -> matched: 'claude-2'
      -> Found in pricing data: input=$1.102e-05, output=$3.268e-05
   Leaderboard: 'claude-2.0' -> matched: 'claude-2'
      -> Found in pricing data: input=$1.102e-05, output=$3.268e-05
   Leaderboard: 'claude-2.1' -> matched: 'claude-2'
      -> Found in pricing data: input=$1.102e-05, output=$3.268e-05
   Leaderboard: 'claude-instant-1' -> matched: 'None'
      -> ‚ùå NOT FOUND in pricing data
/home/runner/workspace/update_leaderboard.py:490: FutureWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
  model_df_best = model_df.groupby('model').apply(select_best_pricing_row).reset_index(drop=True)
üìä Reduced pricing data from 3,058 to 1,740 rows by selecting best pricing per model
‚úÖ Matched pricing for 162 out of 253 models

üîç CLAUDE PRICING DEBUG after merge:
   'claude opus 4.5': input=$5e-06, output=$2.5e-05
   'claude opus 4.5': input=$5e-06, output=$2.5e-05
   'claude sonnet 4.5': input=$3e-06, output=$1.5e-05
   'claude opus 4.1': input=$1.5e-05, output=$7.5e-05
   'claude sonnet 4.5': input=$3e-06, output=$1.5e-05
   'claude opus 4.1': input=$1.5e-05, output=$7.5e-05
   'claude haiku 4.5': input=$1e-06, output=$5e-06
   'claude opus 4': input=$1.5e-05, output=$7.5e-05
   'claude opus 4': input=$1.5e-05, output=$7.5e-05
   'claude sonnet 4': input=$3e-06, output=$1.5e-05
   'claude sonnet 4': input=$3e-06, output=$1.5e-05
   'claude 3.7 sonnet': input=$3e-06, output=$1.5e-05
   'claude 3.7 sonnet': input=$3e-06, output=$1.5e-05
   'claude 3.5 sonnet': input=$3e-06, output=$1.5e-05
   'claude 3.5 sonnet': input=$3e-06, output=$1.5e-05
   'claude 3 opus': input=$1.5e-05, output=$7.5e-05
   'claude 3.5 haiku': input=$8e-07, output=$4e-06
   'claude 3 sonnet': input=$3e-06, output=$1.5e-05
   'claude 3 haiku': input=$2.5e-07, output=$1.25e-06
   'claude-1': input=$1.102e-05, output=$3.268e-05
   'claude-2.0': input=$1.102e-05, output=$3.268e-05
   'claude-2.1': input=$1.102e-05, output=$3.268e-05
   'claude-instant-1': input=$nan, output=$nan
      ‚ùå NO PRICING DATA found for this model

üîç Converting input_cost_per_token to input_cost_per_million_tokens ($)
   'gemma-3-27b-it' input_cost_per_token: 0.0 -> 0.0
      Type: <class 'float'>, Value as float: 0.0

üîç Converting output_cost_per_token to output_cost_per_million_tokens ($)
   'gemma-3-27b-it' output_cost_per_token: 0.0 -> 0.0
      Type: <class 'float'>, Value as float: 0.0

üîç Converting output_cost_per_reasoning_token to output_cost_per_reasoning_per_million_tokens ($)
   'gemma-3-27b-it' output_cost_per_reasoning_token: nan -> nan
      Type: <class 'float'>, Value as float: NaN

üîç Converting input_cost_per_token_batches to input_cost_per_million_tokens_batches ($)
   'gemma-3-27b-it' input_cost_per_token_batches: nan -> nan
      Type: <class 'float'>, Value as float: NaN

üîç Converting output_cost_per_token_batches to output_cost_per_million_tokens_batches ($)
   'gemma-3-27b-it' output_cost_per_token_batches: nan -> nan
      Type: <class 'float'>, Value as float: NaN

üîç FINAL CSV DEBUG before writing:
   'claude opus 4.5': input=$5.0, output=$25.0
   'claude opus 4.5': input=$5.0, output=$25.0
   'claude sonnet 4.5': input=$3.0, output=$15.0

üîç FINAL VALIDATION before CSV write:
   Cost columns: ['input_cost_per_million_tokens ($)', 'output_cost_per_million_tokens ($)', 'input_cost_per_million_tokens_batches ($)', 'output_cost_per_million_tokens_batches ($)']
   input_cost_per_million_tokens ($) dtype: float64
   Sample non-null values: [2.0, 0.5, 5.0]
   output_cost_per_million_tokens ($) dtype: float64
   Sample non-null values: [12.0, 3.0, 25.0]
   Final input_cost_per_million_tokens ($) numeric values for gemma-3-27b before CSV write: [0.0]
      Raw value: 0.0
   Final input_cost_per_million_tokens ($) string values for gemma-3-27b: ['0.00']
   Final output_cost_per_million_tokens ($) numeric values for gemma-3-27b before CSV write: [0.0]
      Raw value: 0.0
   Final output_cost_per_million_tokens ($) string values for gemma-3-27b: ['0.00']
   Final input_cost_per_million_tokens_batches ($) numeric values for gemma-3-27b before CSV write: [nan]
      Raw value: nan
   Final input_cost_per_million_tokens_batches ($) string values for gemma-3-27b: ['']
   Final output_cost_per_million_tokens_batches ($) numeric values for gemma-3-27b before CSV write: [nan]
      Raw value: nan
   Final output_cost_per_million_tokens_batches ($) string values for gemma-3-27b: ['']
üíæ CSV written with cost columns moved to front
üíæ markdown_preview.md (top 100) written